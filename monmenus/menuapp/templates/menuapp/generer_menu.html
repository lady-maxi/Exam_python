{% extends 'menuapp/base.html' %}
{% block content %}
<div class="container my-5">
  {% if recette %}
    <div class="card shadow rounded p-4 bg-white mb-4">
      {% if recette.image %}
        <img src="{{ recette.image.url }}" alt="Photo recette" class="card-img-top img-fluid mb-3 rounded" style="max-height: 400px; object-fit: cover;">
      {% endif %}
      <div class="card-body">
        <h2 class="card-title">{{ recette.nom }}</h2>
        <p><strong>Coût estimé :</strong> {{ recette.cout_estime }} Fcfa</p>
        <p><strong>Temps de préparation :</strong> {{ recette.temps_preparation }} min</p>
        <h4>Ingrédients :</h4>
        <ul class="list-group mb-3">
          {% for ing in recette.ingredients.all %}
            <li class="list-group-item">{{ ing.nom }} ({{ ing.quantite }} {{ ing.unite }})</li>
          {% endfor %}
        </ul>
        <h4>Instructions :</h4>
        <p>{{ recette.instructions }}</p>

        <div class="d-flex flex-wrap gap-2 mb-3">
          <a href="{% url 'export_pdf' recette.id %}" class="btn btn-warning">
            📄 Exporter en PDF
          </a>
          <a href="{% url 'generer_menu' %}" class="btn btn-secondary">
            🔀 Une autre recette
          </a>
          <a href="{% url 'confirmer_recette' recette.id %}" class="btn btn-success">
            ✅ Choisir cette recette
          </a>
        </div>
      </div>
    </div>
  {% else %}
    <p>Aucune recette trouvée !</p>
  {% endif %}

  <a href="{% url 'accueil' %}" class="btn btn-outline-secondary">⬅️ Retour accueil</a>
</div>
{% endblock %}